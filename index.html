<!DOCTYPE html>
<html>
<head>
<style>
.myCanvas
{
border:10px solid #40403A;
position:relative;
}

</style>
</head>

<body onload="onload()">

<canvas id="myCanvas" class="myCanvas" width="900" height="500"  align="center">
</canvas>

<script type="text/javascript">
var canvas = null;
var img = null;
var ctx = null;
var imageReady = false;
var x,y,tt,frame=0;
var dir=0;// 0-stay,1-right,2-left,3-down
function onload() 
{
  canvas = document.getElementById('myCanvas');
  ctx = canvas.getContext("2d");
  img = new Image();
  img.src = 'sprites/main.png';
  img.onload = loaded();
  x=195;
  y=35;
}
function loaded() {
  imageReady = true;
  tt=setInterval(redraw,250);
}

window.addEventListener("keypress", function(event){

    var key=event.keyCode;
	if(key==97)
	dir=2;//left
	if(key==100)
	dir=1;//right
	if(key==115)
	dir=3;//down
    //alert(event.keyCode)
  });
	   



function redraw()
 {
  ctx.fillStyle = '#FFFFFF';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  if (imageReady)
  {
		if(dir!=0)
		{
			
			if(dir==2)
			{ctx.drawImage(img,(35*frame)+95,32,35,35,x,y,35,35);
			dir=0;
			 x-=5;
			 //ctx.drawImage(img,(35*1)+95,0,35,35,x,y,35,35);
			}
		}
		//ctx.drawImage(img,(35*1)+95,0,35,35,x,y,35,35);
		
	//checking frame
	if(frame>=2)
	frame=0;
	else
	frame++;
  }
 
					  
}		
</script> 

</body>
</html>